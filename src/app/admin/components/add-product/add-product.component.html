<div class="container m-auto py-5">
	<div class="row mb-3">
		<div class="col m-auto">
			<div class="row mb-3 ">
				<form #addForm="ngForm">
					<div class="col">
            <label class="form-label label-left mt-3">Name</label>
						<input
							#name="ngModel"
							name="name"
							[class.is-invalid]="name.invalid && name.touched"
							[(ngModel)]="product.name"
							placeholder="Enter book name"
							class="form-control"
							type="text"
							required
							pattern="^[a-zA-Zа-яА-Я\s]*$"
						/>
						<span [hidden]="name.valid || name.untouched" class="errorFormMessage"
							>Only letters and spaces can be entered
						</span>
					</div>
					<div class="col">
            <label class="form-label label-left mt-3">Description</label>
						<input
							#description="ngModel"
							name="description"
							[class.is-invalid]="description.invalid && description.touched"
							[(ngModel)]="product.description"
							placeholder="Enter book description"
							class="form-control"
							type="text"
							required
							pattern="^[a-zA-Zа-яА-Я0-9\s]*$"
						/>
						<span [hidden]="description.valid || description.untouched" class="errorFormMessage"
							>Only letters, numbers and spaces can be entered
						</span>
					</div>
					<div class="col">
            <label class="form-label label-left mt-3">Price</label>
						<input
							#price="ngModel"
							name="price"
							[class.is-invalid]="price.invalid && price.touched"
							[(ngModel)]="product.price"
							placeholder="Enter book price"
							class="form-control"
							type="text"
							required
							pattern="^[0-9]*$"
						/>
						<span
              [hidden]="price.valid || price.untouched"
              class="errorFormMessage"
            >Only numbers can be entered </span>
					</div>
					<div class="col">
            <label class="form-label label-left mt-3">Image URL</label>
						<div class="d-flex flex-row">
							<input
								#image="ngModel"
								name="image"
								[class.is-invalid]="image.invalid && image.touched"
								[(ngModel)]="currentImage"
								placeholder="Enter book images"
								class="w-75 form-control"
								type="text"
								required
							/>
							<button
								[disabled]="image.invalid || images.length >= 3"
								(click)="imageSet(image)"
								class="ms-3 w-25 btn btn-outline-primary"
							>
								Add
							</button>
						</div>
						<span [hidden]="(image.valid || image.untouched) && imageCheck" class="errorFormMessage"
							>Image is not valid
						</span>
          </div>
          <div class="col">
              <label class="form-label label-left mt-3">Upload image</label>
              <div class="d-flex flex-row">
                <input
                  #imageFile
                  name="image"
                  placeholder="Choose images"
                  class="w-75 form-control"
                  type="file"
                  required
                />
                <button
                  (click)="imgurTest(imageFile.files)"
                  class="ms-3 w-25 btn btn-outline-primary"
                >
                  Add
                </button>
						</div>
						<span [hidden]="(image.valid || image.untouched) && imageCheck" class="errorFormMessage"
							>Image is not valid
						</span>
						<div class="p-2 col d-flex flex-row gap-2 flex-wrap">
							<div class="position-relative" *ngFor="let addedImage of images; let i = index">
								<img
									src="{{ addedImage }}"
									alt=""
									class="p-1 img-fluid rounded-3 shadow-lg image-hover"
									(click)="removeImage(i)"
								/>
								<div class="p-1 overlay rounded-3" (click)="removeImage(i)">
									<i class="fa fa-times"></i>
								</div>
							</div>
						</div>
					<div>
						<button
							[disabled]="addForm.invalid && images.length > 0"
							class="mt-3 btn btn-outline-success"
							(click)="addProduct(addForm)"
						>
							Add Book
						</button>
					</div>
					</div>
				</form>
			</div>
		</div>
	</div>
</div>

<!--[class.is-invalid]="addForm.value.name"-->
